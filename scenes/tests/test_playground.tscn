[gd_scene load_steps=11 format=3 uid="uid://bl2gw07jyexpp"]

[ext_resource type="Script" path="res://scenes/tests/test_playground.gd" id="1_0yeh2"]
[ext_resource type="Material" uid="uid://cvk2wmgqvougc" path="res://resources/materials/prototype_textures/prototype_brick.material" id="1_stuc4"]
[ext_resource type="Material" uid="uid://x3vgwj6i30t8" path="res://resources/materials/prototype_textures/prototype_dark.material" id="2_s4suy"]
[ext_resource type="PackedScene" uid="uid://tgc7puqtj4fp" path="res://scenes/vehicles/raycast/SimpleRaycastKart.tscn" id="4_q51n2"]
[ext_resource type="Script" path="res://scripts/camera/chase_cam.gd" id="4_utfo4"]
[ext_resource type="Script" path="res://scripts/ai_drivers/SimpleAIKartInput.gd" id="5_1lgps"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_8b2fs"]

[sub_resource type="Sky" id="Sky_ikglc"]
sky_material = SubResource("ProceduralSkyMaterial_8b2fs")

[sub_resource type="Environment" id="Environment_dov0w"]
background_mode = 2
sky = SubResource("Sky_ikglc")
ambient_light_color = Color(0.843137, 0.980392, 0.988235, 1)
ambient_light_sky_contribution = 0.8
tonemap_mode = 1

[sub_resource type="NavigationMesh" id="NavigationMesh_8b15u"]
vertices = PackedVector3Array(-49, 0.188879, -49, -49, 0.188879, -27.5, -29.1, 0.188879, -27.5, -49, 0.188879, -49, -29.1, 0.188879, -27.5, -0.700001, 0.188879, -27.5, -0.700001, 0.188879, -27.5, 49, 0.188879, -27.5, 49, 0.188879, -49, -49, 0.188879, -49, -49, 0.188879, -10.5, -29.2, 0.188879, -10.5, -29.9, 0.188879, -11, -49, 0.188879, -10.5, -29.9, 0.188879, -11, -30.1, 0.188879, -11.4, -29.9, 0.188879, -26.9, -29.1, 0.188879, -27.5, -49, 0.188879, -27.5, -30.1, 0.188879, -26.5, -29.9, 0.188879, -26.9, -49, 0.188879, -27.5, -49, 0.188879, -10.5, -30.1, 0.188879, -11.4, -30.1, 0.188879, -26.5, -49, 0.188879, -27.5, 0.299999, 0.188879, -26.5, 0.299999, 0.188879, -14.8, 10.5, 0.188879, -14.8, 0.299999, 0.188879, -26.5, 10.5, 0.188879, -14.8, 10.9, 0.188879, -14.8, -0.299999, 0.188879, -27.3, 0.299999, 0.188879, -26.5, 10.9, 0.188879, -14.8, 49, 0.188879, -14.8, 49, 0.188879, -27.5, 49, 0.188879, -27.5, -0.700001, 0.188879, -27.5, -0.299999, 0.188879, -27.3, -28.1, 1.78888, -24.9, -28.1, 1.78888, -13, -1.7, 1.78888, -13, -1.7, 1.78888, -24.9, -28.1, 3.08888, -22.52, -28.1, 3.48888, -21.33, -28.1, 3.78888, -18.95, -28.1, 3.48888, -16.57, -28.1, 3.08888, -15.38, -28.1, 2.18888, -13.595, -1.7, 2.18888, -13.595, -1.7, 3.08888, -15.38, -1.7, 3.48888, -16.57, -1.7, 3.78888, -18.95, -1.7, 3.48888, -21.33, -1.7, 3.08888, -22.52, -22.9992, 3.38888, -21.8009, -21.1915, 3.58888, -16.9911, -12.8083, 3.78888, -19.4079, -8.59742, 3.58888, -16.9988, -6.80923, 3.18888, -22.4068, -7.99623, 3.78888, -19.3927, -21.7983, 3.78888, -19.3938, -17.6029, 2.98888, -15.1909, -15.8055, 3.58888, -16.9915, -5.60279, 2.98888, -15.203, -6.2014, 3.58888, -17.0012, -6.19421, 3.78888, -19.3995, -24.1969, 2.98888, -15.1993, -23.6075, 3.58888, -17.0086, -23.6003, 3.78888, -19.407, -27.21, 2.28888, -24.21, -2.5958, 2.28888, -24.2098, -8.00185, 2.28888, -24.2094, -10.4051, 3.38888, -21.8086, -0.200001, 0.188879, -10.7, -0.599998, 0.188879, -10.5, 6.9, 0.188879, -10.5, 0.299999, 0.188879, -11.4, -0.200001, 0.188879, -10.7, 6.9, 0.188879, -10.5, 0.299999, 0.188879, -14.8, 0.299999, 0.188879, -11.4, 6.9, 0.188879, -10.5, 9.6, 0.188879, -14.1, 9.6, 0.188879, -14.1, 10.5, 0.188879, -14.8, 0.299999, 0.188879, -14.8, 13.5, 0.38888, -10.6, 13.1, 0.788879, -10.4, 49, 0.188879, -10.4, 14.6452, 0.188879, -10.5936, 14.2581, 0.188879, -10.4, 14, 0.188879, -11.3, 13.5, 0.38888, -10.6, 49, 0.188879, -10.4, 14.6452, 0.188879, -10.5936, 14, 0.188879, -11.3, 49, 0.188879, -10.4, 49, 0.188879, -14.8, 13.8, 0.188879, -12, 49, 0.188879, -14.8, 11.5, 0.188879, -14.5, 13.8, 0.188879, -12, 49, 0.188879, -14.8, 10.9, 0.188879, -14.8, 11.5, 0.188879, -14.5, 12.4, 1.08888, -10.6, 11.7, 1.18888, -11.3, 10.7, 1.48888, -11.9, 9.2, 2.08888, -9.60001, 11.3333, 1.58888, -10.2667, 10.1, 1.88888, -10.98, 9.2, 2.08888, -9.60001, 7.5, 1.38888, -7.80001, 8.4, 0.88888, -6.80001, 13.1, 0.788879, -10.4, 12.4, 1.08888, -10.6, 11.3333, 1.58888, -10.2667, 8.18, 1.78888, -8.52001, 9.34, 1.48888, -7.52001, 10.75, 1.68888, -8.60001, 11.69, 1.48888, -9.32001, 12.63, 1.08888, -10.04, 7.5, 0.188879, -5.60001, 49, 0.188879, -5.60001, 8.2, 0.288879, -6.10001, 8.83871, 0.188879, -5.60001, 12.8548, 0.788879, -5.60001, 16.871, 0.188879, -5.60001, 17.4129, 0.188879, -5.9871, 12.1484, 0.98888, -6.05162, 9.51613, 0.688879, -6.08388, 13.1, 0.788879, -10.4, 8.4, 0.88888, -6.80001, 8.2, 0.288879, -6.10001, 49, 0.188879, -5.60001, 49, 0.188879, -10.4, 14.2581, 0.188879, -10.4, 12.63, 1.08888, -10.04, 11.69, 1.48888, -9.32001, 10.75, 1.68888, -8.60001, 9.34, 1.48888, -7.52001, 9.51613, 0.688879, -6.08388, 12.1484, 0.98888, -6.05162, 17.4129, 0.188879, -5.9871, 13.0069, 1.18888, -8.00136, 15.9975, 0.288879, -6.80806, 13.6015, 0.98888, -6.80563, 12.4092, 1.28888, -7.40448, 5, 0.188879, -8.10001, 6.9, 0.188879, -10.5, -0.599998, 0.188879, -10.5, 4.8, 0.188879, -7.30001, 5, 0.188879, -8.10001, -0.599998, 0.188879, -10.5, 5.3, 0.188879, -6.60001, 4.8, 0.188879, -7.30001, -0.599998, 0.188879, -10.5, -29.2, 0.188879, -10.5, -29.2, 0.188879, -10.5, -49, 0.188879, -10.5, -49, 0.188879, -5.60001, 7.2, 0.188879, -5.60001, 5.3, 0.188879, -6.60001, 49, 0.188879, -1.50001, 49, 0.188879, -5.60001, 7.5, 0.188879, -5.60001, 0.700001, 0.188879, -1.50001, 16.871, 0.188879, -5.60001, 12.8548, 0.788879, -5.60001, 8.83871, 0.188879, -5.60001, 10.6, 0.188879, -5.00803, 12.996, 0.588879, -4.99046, 17.8084, 0.188879, -4.40765, 11.1944, 0.188879, -4.396, 14.2044, 0.38888, -4.39402, 11.2027, 0.188879, -3.79957, 12.4024, 0.188879, -4.40721, -0.599998, 0.188879, -1.50001, 7.2, 0.188879, -5.60001, -49, 0.188879, -5.60001, -49, 0.188879, -1.50001, 0.700001, 0.188879, -1.50001, 7.5, 0.188879, -5.60001, 7.2, 0.188879, -5.60001, -0.599998, 0.188879, -1.50001, -49, 0.188879, 1.59999, -0.599998, 0.188879, 1.59999, -1.3, 0.188879, 1.09999, -49, 0.188879, 1.59999, -1.3, 0.188879, 1.09999, -1.5, 0.188879, 0.699993, -49, 0.188879, 1.59999, -1.5, 0.188879, 0.699993, -1.5, 0.188879, -0.600006, -49, 0.188879, -1.50001, -1.5, 0.188879, -0.600006, -1.3, 0.188879, -1.00001, -49, 0.188879, -1.50001, -1.3, 0.188879, -1.00001, -0.599998, 0.188879, -1.50001, -49, 0.188879, -1.50001, 49, 0.188879, -1.50001, 0.700001, 0.188879, -1.50001, 1.1, 0.188879, -1.30001, 49, 0.188879, -1.50001, 1.1, 0.188879, -1.30001, 1.6, 0.188879, -0.600006, 49, 0.188879, 1.59999, 49, 0.188879, -1.50001, 1.6, 0.188879, -0.600006, 1.6, 0.188879, 0.699993, 0.700001, 0.188879, 1.59999, 49, 0.188879, 1.59999, 1.1, 0.188879, 1.39999, 49, 0.188879, 1.59999, 1.6, 0.188879, 0.699993, 1.1, 0.188879, 1.39999, 49, 0.188879, 49, 49, 0.188879, 1.59999, 0.700001, 0.188879, 1.59999, -0.599998, 0.188879, 1.59999, -49, 0.188879, 1.59999, -49, 0.188879, 49, -0.599998, 0.188879, 1.59999, -49, 0.188879, 49, 49, 0.188879, 49, 0.700001, 0.188879, 1.59999)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(5, 4, 3), PackedInt32Array(7, 6, 8), PackedInt32Array(8, 6, 9), PackedInt32Array(12, 11, 10), PackedInt32Array(15, 14, 13), PackedInt32Array(18, 17, 16), PackedInt32Array(21, 20, 19), PackedInt32Array(23, 22, 24), PackedInt32Array(24, 22, 25), PackedInt32Array(28, 27, 26), PackedInt32Array(31, 30, 29), PackedInt32Array(33, 32, 34), PackedInt32Array(34, 32, 35), PackedInt32Array(35, 32, 36), PackedInt32Array(39, 38, 37), PackedInt32Array(55, 72, 43), PackedInt32Array(43, 73, 40), PackedInt32Array(40, 71, 44), PackedInt32Array(44, 56, 45), PackedInt32Array(45, 70, 46), PackedInt32Array(46, 69, 47), PackedInt32Array(47, 68, 48), PackedInt32Array(48, 68, 49), PackedInt32Array(49, 68, 41), PackedInt32Array(41, 63, 42), PackedInt32Array(42, 65, 50), PackedInt32Array(50, 65, 51), PackedInt32Array(51, 65, 52), PackedInt32Array(52, 66, 53), PackedInt32Array(53, 67, 54), PackedInt32Array(54, 60, 55), PackedInt32Array(72, 73, 43), PackedInt32Array(55, 60, 72), PackedInt32Array(73, 71, 40), PackedInt32Array(71, 56, 44), PackedInt32Array(56, 70, 45), PackedInt32Array(70, 69, 46), PackedInt32Array(69, 68, 47), PackedInt32Array(68, 63, 41), PackedInt32Array(63, 65, 42), PackedInt32Array(65, 66, 52), PackedInt32Array(66, 67, 53), PackedInt32Array(67, 60, 54), PackedInt32Array(72, 60, 73), PackedInt32Array(73, 56, 71), PackedInt32Array(56, 62, 70), PackedInt32Array(70, 62, 69), PackedInt32Array(69, 57, 68), PackedInt32Array(68, 57, 63), PackedInt32Array(63, 59, 65), PackedInt32Array(65, 59, 66), PackedInt32Array(66, 61, 67), PackedInt32Array(67, 61, 60), PackedInt32Array(60, 74, 73), PackedInt32Array(73, 74, 56), PackedInt32Array(56, 58, 62), PackedInt32Array(62, 57, 69), PackedInt32Array(57, 64, 63), PackedInt32Array(63, 64, 59), PackedInt32Array(59, 61, 66), PackedInt32Array(61, 74, 60), PackedInt32Array(74, 58, 56), PackedInt32Array(58, 64, 62), PackedInt32Array(62, 64, 57), PackedInt32Array(64, 58, 59), PackedInt32Array(59, 58, 61), PackedInt32Array(61, 58, 74), PackedInt32Array(75, 77, 76), PackedInt32Array(78, 80, 79), PackedInt32Array(82, 81, 83), PackedInt32Array(83, 81, 84), PackedInt32Array(87, 86, 85), PackedInt32Array(89, 88, 92), PackedInt32Array(92, 88, 91), PackedInt32Array(92, 91, 90), PackedInt32Array(94, 93, 96), PackedInt32Array(96, 93, 95), PackedInt32Array(97, 100, 98), PackedInt32Array(98, 100, 99), PackedInt32Array(103, 102, 101), PackedInt32Array(106, 105, 104), PackedInt32Array(107, 111, 108), PackedInt32Array(108, 111, 109), PackedInt32Array(109, 111, 112), PackedInt32Array(112, 111, 110), PackedInt32Array(116, 123, 117), PackedInt32Array(117, 123, 118), PackedInt32Array(118, 123, 122), PackedInt32Array(118, 122, 121), PackedInt32Array(118, 121, 113), PackedInt32Array(113, 121, 120), PackedInt32Array(113, 120, 119), PackedInt32Array(119, 120, 114), PackedInt32Array(114, 120, 115), PackedInt32Array(124, 126, 127), PackedInt32Array(127, 126, 132), PackedInt32Array(127, 132, 131), PackedInt32Array(127, 131, 128), PackedInt32Array(128, 131, 129), PackedInt32Array(129, 131, 130), PackedInt32Array(129, 130, 125), PackedInt32Array(136, 145, 137), PackedInt32Array(137, 145, 138), PackedInt32Array(138, 146, 133), PackedInt32Array(133, 146, 139), PackedInt32Array(139, 146, 140), PackedInt32Array(140, 149, 141), PackedInt32Array(141, 149, 142), PackedInt32Array(142, 143, 134), PackedInt32Array(134, 143, 135), PackedInt32Array(143, 142, 144), PackedInt32Array(144, 148, 145), PackedInt32Array(145, 147, 138), PackedInt32Array(138, 147, 146), PackedInt32Array(146, 149, 140), PackedInt32Array(149, 144, 142), PackedInt32Array(148, 147, 145), PackedInt32Array(144, 149, 148), PackedInt32Array(147, 148, 146), PackedInt32Array(146, 148, 149), PackedInt32Array(152, 151, 150), PackedInt32Array(155, 154, 153), PackedInt32Array(157, 156, 158), PackedInt32Array(158, 156, 159), PackedInt32Array(161, 160, 162), PackedInt32Array(162, 160, 164), PackedInt32Array(162, 164, 163), PackedInt32Array(167, 177, 168), PackedInt32Array(168, 174, 165), PackedInt32Array(165, 174, 166), PackedInt32Array(166, 174, 169), PackedInt32Array(169, 176, 170), PackedInt32Array(170, 172, 171), PackedInt32Array(171, 177, 167), PackedInt32Array(177, 174, 168), PackedInt32Array(174, 176, 169), PackedInt32Array(176, 173, 170), PackedInt32Array(172, 177, 171), PackedInt32Array(170, 175, 172), PackedInt32Array(177, 176, 174), PackedInt32Array(173, 178, 170), PackedInt32Array(176, 178, 173), PackedInt32Array(172, 175, 177), PackedInt32Array(170, 178, 175), PackedInt32Array(177, 178, 176), PackedInt32Array(175, 178, 177), PackedInt32Array(182, 181, 179), PackedInt32Array(179, 181, 180), PackedInt32Array(184, 183, 185), PackedInt32Array(185, 183, 186), PackedInt32Array(187, 189, 188), PackedInt32Array(192, 191, 190), PackedInt32Array(194, 193, 195), PackedInt32Array(195, 193, 196), PackedInt32Array(199, 198, 197), PackedInt32Array(202, 201, 200), PackedInt32Array(203, 205, 204), PackedInt32Array(208, 207, 206), PackedInt32Array(212, 211, 209), PackedInt32Array(209, 211, 210), PackedInt32Array(214, 213, 215), PackedInt32Array(218, 217, 216), PackedInt32Array(221, 220, 219), PackedInt32Array(224, 223, 222), PackedInt32Array(228, 227, 225), PackedInt32Array(225, 227, 226)]
sample_partition_type = 1
cell_size = 0.1
cell_height = 0.1
agent_radius = 1.0
agent_max_climb = 0.1

[node name="TestPlayground" type="Node3D"]
script = ExtResource("1_0yeh2")

[node name="Environment" type="Node3D" parent="."]

[node name="WorldEnvironment" type="WorldEnvironment" parent="Environment"]
environment = SubResource("Environment_dov0w")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="Environment"]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 0, 0, 0)
shadow_enabled = true

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(0.999662, 0.0245662, -0.00857883, 0, 0.329689, 0.94409, 0.026021, -0.94377, 0.329577, -1.79706, 31.3826, 3.18774)
current = true

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_8b15u")

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="NavigationRegion3D"]
use_collision = true

[node name="ground" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.25, 0)
material_override = ExtResource("1_stuc4")
size = Vector3(100, 0.5, 100)
material = ExtResource("2_s4suy")

[node name="box" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
material_override = ExtResource("1_stuc4")
material = ExtResource("1_stuc4")

[node name="CSGCylinder3D" type="CSGCylinder3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(0.258819, -0.776005, -0.575178, 0.965926, 0.20793, 0.154118, -3.68222e-08, -0.595468, 0.803379, 13.2364, -4.22169, -6.85124)
radius = 5.0
height = 14.0
sides = 32

[node name="CSGCylinder3D2" type="CSGCylinder3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(-4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0, 1, -14.9228, -6.14112, -18.9662)
radius = 9.77
height = 28.3156
sides = 32

[node name="SimpleRaycastKart" parent="." instance=ExtResource("4_q51n2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.09228, 1.52321, -1.71612)

[node name="ChaseCamRoot" type="Node3D" parent="SimpleRaycastKart"]
top_level = true
script = ExtResource("4_utfo4")

[node name="Camera3D" type="Camera3D" parent="SimpleRaycastKart/ChaseCamRoot"]
transform = Transform3D(1, 0, 0, 0, 0.994037, 0.10904, 0, -0.10904, 0.994037, 0, 1.72285, 2.71337)
fov = 90.0

[node name="AIControlledKart" parent="." node_paths=PackedStringArray("input") instance=ExtResource("4_q51n2")]
transform = Transform3D(0.759884, 0, -0.650058, 0, 1, 0, 0.650058, 0, 0.759884, -15.3171, 0.424259, 2.61391)
top_speed = 12.0
handling_factor = 180.0
input = NodePath("SimpleAIKartInput")

[node name="SimpleAIKartInput" type="Node3D" parent="AIControlledKart" node_paths=PackedStringArray("chase_target", "car")]
script = ExtResource("5_1lgps")
debug_enabled = true
chase_target = NodePath("../../SimpleRaycastKart")
nav_refresh_interval = 0.2
chase_mode = 1
car = NodePath("..")

[node name="AITarget" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.11225, 0.285188, -33.8883)
